(function(d){d.ajaxPrefilter(function(a){if(a.iframe)return"iframe"});d.ajaxTransport("iframe",function(a){function g(){d(e).each(function(){this.remove()});d(h).each(function(){this.disabled=false});b.attr("action",i||"").attr("target",j||"").attr("enctype",k||"");c.attr("src","javascript:false;").remove()}var b=null,c=null,i=null,j=null,k=null,e=[],h=[],f=d(a.files).filter(":file:enabled");a.dataTypes.shift();if(f.length)return f.each(function(){b!==null&&this.form!==b&&jQuery.error("All file fields must belong to the same form");
b=this.form}),b=d(b),i=b.attr("action"),j=b.attr("target"),k=b.attr("enctype"),b.find(":input:not(:submit)").each(function(){if(!this.disabled&&(this.type!="file"||f.index(this)<0))this.disabled=true,h.push(this)}),typeof a.data==="string"&&a.data.length>0&&jQuery.error("data must not be serialized"),d.each(a.data||{},function(a,c){if(d.isPlainObject(c))a=c.name,c=c.value;e.push(d("<input type='hidden'>").attr("name",a).attr("value",c).appendTo(b))}),e.push(d("<input type='hidden' name='X-Requested-With'>").attr("value",
"IFrame").appendTo(b)),accepts=a.dataTypes[0]&&a.accepts[a.dataTypes[0]]?a.accepts[a.dataTypes[0]]+(a.dataTypes[0]!=="*"?", */*; q=0.01":""):a.accepts["*"],e.push(d("<input type='hidden' name='X-Http-Accept'>").attr("value",accepts).appendTo(b)),{send:function(e,f){c=d("<iframe src='javascript:false;' name='iframe-"+d.now()+"' style='display:none'></iframe>");c.bind("load",function(){c.unbind("load").bind("load",function(){var a=this.contentWindow?this.contentWindow.document:this.contentDocument?
this.contentDocument:this.document,a=a.documentElement?a.documentElement:a.body,b=a.getElementsByTagName("textarea")[0],c=b?b.getAttribute("data-type"):null,d=b?parseInt(b.getAttribute("response-code")):200;f(d,"OK",{text:c?b.value:a?a.innerHTML:null},"Content-Type: "+(c||"text/html"));setTimeout(g,50)});b.attr("action",a.url).attr("target",c.attr("name")).attr("enctype","multipart/form-data").get(0).submit()});c.insertAfter(b)},abort:function(){c!==null&&(c.unbind("load").attr("src","javascript:false;"),
g())}}})})(jQuery);
